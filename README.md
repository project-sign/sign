# 기능 명세

## 사용자 회원가입 기능

* 사용자는 이메일 주소 인증으로 회원가입 할 수 있다.

* 이메일의 소유자를 확인 하기 위해 `이메일 인증`이 필요하다.

* 서버에서 인증할 이메일에 `인증번호`를 전송한다.
  * 인증번호는 인증하기 쉽게 `n 자리`의 무작위 숫자로 제한한다.

* 회원은 이메일 인증 번호를 입력하여 가입에 성공한다.
  * 인증번호는 `n회` 이상 실패 시 서버에서 전송한 인증번호로 인증할 수 없게 막는다.
  * 인증번호가 일치하지 않을 경우 인증에 실패한다.

* 회원가입 성공 시 `패스키 등록` 단계로 이동한다.
  * 인증에 성공할 경우 서버 측에서 `세션 토큰`을 클라이언트에 설정한다.

* 패스키 등록은 사용자 `이메일 주소`로 등록한다.

* 등록에 성공하였다면 `로그인 화면`으로 이동한다.


## 사용자 로그인

* 로그인 버튼을 누른다.

* 클라이언트에서 등록된 패스키를 찾는다.

* 패스키가 존재하지 않을 경우 회원가입 페이지로 이동 시킨다.

* 인증에 성공하면 서버에서 `OAuth2`에 사용 할 `인증 토큰`을 전달한다.
